<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>인터뷰 상세</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<header>
    <h1>인터뷰 상세</h1>
    <div class="interview-detail-actions">
        <button onclick="location.href='/interviews'">목록</button>
        <button onclick="location.href='/mypage'">마이페이지</button>
    </div>
</header>

<div class="interview-detail-container">
    <div id="qnaContainer"></div>
</div>

<script th:inline="javascript">
    const interviewId = [[${interviewId}]];
</script>

<script>
    const container = document.getElementById("qnaContainer");

    fetch(`/api/interviews/${interviewId}`, { credentials: "include" })
        .then(res => res.json())
        .then(data => {
            data.qnAResponses.forEach(qna => {
                const div = document.createElement("div");
                div.className = "qna-card";
                div.innerHTML = `
                    <div class="qna-question">Q. ${qna.question}</div>
                    <div class="qna-answer">A. ${qna.answer}</div>
                    <div class="qna-feedback">${qna.feedBack}</div>
                `;
                container.appendChild(div);
            });
        })
        .catch(err => {
            console.error(err);
            container.innerText = "데이터를 불러오지 못했습니다.";
        });
</script>

</body>
</html>
